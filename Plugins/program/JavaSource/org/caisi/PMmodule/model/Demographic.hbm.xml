<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
	"-//Hibernate/Hibernate Mapping DTD//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >

<hibernate-mapping package="org.caisi.PMmodule.model">
	<class name="Demographic" table="demographic">
		<id
			column="demographic_no"
			name="DemographicNo"
			type="integer"
		>
			<generator class="native" />
		</id>
		<property
			column="phone"
			length="20"
			name="Phone"
			not-null="false"
			type="string"
		 />
		<property
			column="patient_status"
			length="20"
			name="PatientStatus"
			not-null="false"
			type="string"
		 />
		<property
			column="roster_status"
			length="20"
			name="RosterStatus"
			not-null="false"
			type="string"
		 />
		<property
			column="provider_no"
			length="250"
			name="ProviderNo"
			not-null="false"
			type="string"
		 />
		<property
			column="pin"
			length="10"
			name="Pin"
			not-null="false"
			type="string"
		 />
		<property
			column="hin"
			length="20"
			name="Hin"
			not-null="false"
			type="string"
		 />
		<property
			column="address"
			length="60"
			name="Address"
			not-null="false"
			type="string"
		 />
		<property
			column="province"
			length="20"
			name="Province"
			not-null="false"
			type="string"
		 />
		<property
			column="month_of_birth"
			length="2"
			name="MonthOfBirth"
			not-null="false"
			type="string"
		 />
		<property
			column="ver"
			length="3"
			name="Ver"
			not-null="false"
			type="string"
		 />
		<property
			column="date_of_birth"
			length="2"
			name="DateOfBirth"
			not-null="false"
			type="string"
		 />
		<property
			column="sex"
			length="1"
			name="Sex"
			not-null="true"
			type="string"
		 />
		<property
			column="date_joined"
			length="10"
			name="DateJoined"
			not-null="false"
			type="date"
		 />
		<property
			column="family_doctor"
			length="80"
			name="FamilyDoctor"
			not-null="false"
			type="string"
		 />
		<property
			column="city"
			length="20"
			name="City"
			not-null="false"
			type="string"
		 />
		<property
			column="first_name"
			length="30"
			name="FirstName"
			not-null="true"
			type="string"
		 />
		<property
			column="postal"
			length="9"
			name="Postal"
			not-null="false"
			type="string"
		 />
		<property
			column="hc_renew_date"
			length="10"
			name="HcRenewDate"
			not-null="false"
			type="date"
		 />
		<property
			column="phone2"
			length="20"
			name="Phone2"
			not-null="false"
			type="string"
		 />
		<property
			column="pcn_indicator"
			length="20"
			name="PcnIndicator"
			not-null="false"
			type="string"
		 />
		<property
			column="end_date"
			length="10"
			name="EndDate"
			not-null="false"
			type="date"
		 />
		<property
			column="last_name"
			length="30"
			name="LastName"
			not-null="true"
			type="string"
		 />
		<property
			column="hc_type"
			length="20"
			name="HcType"
			not-null="false"
			type="string"
		 />
		<property
			column="chart_no"
			length="10"
			name="ChartNo"
			not-null="false"
			type="string"
		 />
		<property
			column="email"
			length="100"
			name="Email"
			not-null="false"
			type="string"
		 />
		<property
			column="year_of_birth"
			length="4"
			name="YearOfBirth"
			not-null="false"
			type="string"
		 />
		<property
			column="eff_date"
			length="10"
			name="EffDate"
			not-null="false"
			type="date"
		 />
		 
		 <property
		 	name="HealthCardNum"
		 	type="string"
		 	formula="(select intake.healthCardNum from formintakea intake where intake.demographic_no = demographic_no order by intake.formEdited desc limit 1)"
		 	/>
		 	
		 <property
		 	name="HealthCardVersion"
		 	type="string"
		 	formula="(select intake.healthCardVer from formintakea intake where intake.demographic_no = demographic_no order by intake.formEdited desc limit 1)"
		 	/>
		 	
	</class>
</hibernate-mapping>
