<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
       http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd"
        default-autowire="no">

    <bean id="propertyConfigurer" class="org.oscarehr.common.OscarPropertyPlaceholderConfigurer" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="locations">
            <list>
                <value>/WEB-INF/hibernate.properties</value>
                <value>/WEB-INF/classes/caisi.properties</value>
            </list>
        </property>
    </bean>
    <!-- Hibernate -->
    <bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="driverClassName" value="${db_driver}"/>
        <property name="url" value="${db_uri}${db_name}"/>
        <property name="username" value="${db_username}"/>
        <property name="password" value="${db_password}"/>

        <!-- <property name="testOnBorrow" value="true" /> -->
		<!-- <property name="validationQuery" value="select 1 from dual" /> -->
		<property name="maxWait" value="4000" />

    </bean>
    <bean id="auditInterceptor" class="org.oscarehr.common.dao.hibernate.AuditInterceptor" lazy-init="default"
          autowire="default" dependency-check="default"/>
    <bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="dataSource" ref="dataSource"/>
        <property name="entityInterceptor">
            <ref bean="auditInterceptor"/>
        </property>
        <property name="mappingDirectoryLocations">
            <!-- only *.hbm.xml will be loaded -->
            <list>
                <value>classpath:/org/caisi/model</value>
                <value>classpath:/org/oscarehr/PMmodule/model</value>
                <value>classpath:/org/oscarehr/survey/model</value>
                <value>classpath:/org/oscarehr/casemgmt/model</value>
                <value>classpath:/org/oscarehr/phr/model</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">${hibernate.dialect}</prop>
                <prop key="hibernate.show_sql">${hibernate.show_sql}</prop>
                <prop key="hibernate.generate_statistics">${hibernate.generate_statistics}</prop>
            </props>
        </property>
        <property name="eventListeners">
            <map>
                <entry key="merge">
                    <bean class="org.springframework.orm.hibernate3.support.IdTransferringMergeEventListener"
                          lazy-init="default" autowire="default" dependency-check="default"/>
                </entry>
            </map>
        </property>
    </bean>
    <bean id="auditSessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="dataSource" ref="dataSource"/>
        <property name="mappingDirectoryLocations">
            <!-- only *.hbm.xml will be loaded -->
            <list>
                <value>classpath:/org/caisi/model</value>
                <value>classpath:/org/oscarehr/PMmodule/model</value>
                <value>classpath:/org/oscarehr/survey/model</value>
                <value>classpath:/org/oscarehr/casemgmt/model</value>
            </list>
        </property>
        <property name="hibernateProperties">
            <props>
                <prop key="hibernate.dialect">${hibernate.dialect}</prop>
                <prop key="hibernate.show_sql">${hibernate.show_sql}</prop>
                <prop key="hibernate.generate_statistics">${hibernate.generate_statistics}</prop>
            </props>
        </property>
    </bean>
    <!-- DAO -->
    <bean id="redirectLinkDao" class="org.caisi.dao.RedirectLinkDao" autowire="byName" lazy-init="default"
          dependency-check="default"/>
    <bean id="redirectLinkTrackingDao" class="org.caisi.dao.RedirectLinkTrackingDao" autowire="byName"
          lazy-init="default" dependency-check="default"/>
    <bean id="issueGroupDao" class="org.caisi.dao.IssueGroupDao" autowire="byName" lazy-init="default"
          dependency-check="default"/>
    <bean id="programDao" class="org.oscarehr.PMmodule.dao.ProgramDao" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <!-- Generic Intake -->
    <bean id="programQueueDao" class="org.oscarehr.PMmodule.dao.hibernate.ProgramQueueDaoHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="clientReferralDAO" class="org.oscarehr.PMmodule.dao.hibernate.ClientReferralDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="agencyDao" class="org.oscarehr.PMmodule.dao.hibernate.AgencyDaoHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="admissionDao" class="org.oscarehr.PMmodule.dao.AdmissionDao" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="bedDemographicDAO" class="org.oscarehr.PMmodule.dao.hibernate.BedDemographicDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="providerDao" class="org.oscarehr.PMmodule.dao.ProviderDao" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="bedDAO" class="org.oscarehr.PMmodule.dao.hibernate.BedDAOHibernate" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="clientDao" class="org.oscarehr.PMmodule.dao.ClientDao" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="roomDAO" class="org.oscarehr.PMmodule.dao.hibernate.RoomDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="CaseManagementIssueDAO" class="org.oscarehr.casemgmt.dao.hibernate.CaseManagementIssueDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <!-- Transaction manager for a single Hibernate SessionFactory (alternative to JTA) -->
    <bean id="transactionManager" class="org.springframework.orm.hibernate3.HibernateTransactionManager"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="baseTransactionProxy" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          abstract="true" lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager" ref="transactionManager"/>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="CaseManagementNoteDAO" class="org.oscarehr.casemgmt.dao.CaseManagementNoteDAO" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref bean="sessionFactory"/>
        </property>
    </bean>
    <bean id="CaseManagementCPPDAO" class="org.oscarehr.casemgmt.dao.hibernate.CaseManagementCPPDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="AllergyDAO" class="org.oscarehr.casemgmt.dao.hibernate.AllergyDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="PrescriptionDAO" class="org.oscarehr.casemgmt.dao.hibernate.PrescriptionDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="IssueDAO" class="org.oscarehr.casemgmt.dao.hibernate.IssueDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="EncounterFormDAO" class="org.oscarehr.casemgmt.dao.hibernate.EncounterFormDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="EchartDAO" class="org.oscarehr.casemgmt.dao.hibernate.EchartDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="ApptDAO" class="org.oscarehr.casemgmt.dao.hibernate.AppointmentDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref bean="sessionFactory"/>
        </property>
    </bean>
    <bean id="MessagetblDAO" class="org.oscarehr.casemgmt.dao.hibernate.MessagetblDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="ProviderSignitureDao" class="org.oscarehr.casemgmt.dao.hibernate.ProviderSignitureDaoHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="RoleProgramAccessDAO" class="org.oscarehr.casemgmt.dao.hibernate.RoleProgramAccessDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="ClientImageDAO" class="org.oscarehr.casemgmt.dao.hibernate.ClientImageDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="roleDAO" class="org.oscarehr.PMmodule.dao.RoleDAO" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="CaseManagementTmpSaveDAO" class="org.oscarehr.casemgmt.dao.hibernate.CaseManagementTmpSaveDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="ticklerDAO" class="org.oscarehr.casemgmt.dao.hibernate.TicklerDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="oscarSurveyDAO" class="org.oscarehr.PMmodule.dao.hibernate.SurveyDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="programProviderDAO" class="org.oscarehr.PMmodule.dao.hibernate.ProgramProviderDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="programFunctionalUserDAO" class="org.oscarehr.PMmodule.dao.hibernate.ProgramFunctionalUserDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="programAccessDAO" class="org.oscarehr.PMmodule.dao.hibernate.ProgramAccessDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="defaultRoleAccessDAO" class="org.oscarehr.PMmodule.dao.hibernate.DefaultRoleAccessDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="programClientStatusDAO" class="org.oscarehr.PMmodule.dao.hibernate.ProgramClientStatusDAOHibernate"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="programTeamDAO" class="org.oscarehr.PMmodule.dao.hibernate.ProgramTeamDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="providerDefaultProgramDao" class="org.caisi.dao.hibernate.HibernateProviderDefaultProgramDao"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="bedProgramDao" class="org.caisi.dao.hibernate.HibernateBedProgramDao" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="demographicDAOT" class="org.caisi.dao.hibernate.DemographicDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <!-- managers  -->
    <bean id="programQueueManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.impl.ProgramQueueManagerImpl" lazy-init="default"
                  autowire="default" dependency-check="default">
                <property name="programQueueDao" ref="programQueueDao"/>
                <property name="clientReferralDAO" ref="clientReferralDAO"/>
            </bean>
        </property>
    </bean>
    <bean id="admissionManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.AdmissionManager" lazy-init="default" autowire="default"
                  dependency-check="default">
                <property name="admissionDao" ref="admissionDao"/>
                <property name="programDao" ref="programDao"/>
                <property name="programQueueDao" ref="programQueueDao"/>
                <property name="clientReferralDAO" ref="clientReferralDAO"/>
                <property name="bedDemographicManager" ref="bedDemographicManager"/>
                <property name="programClientStatusDAO" ref="programClientStatusDAO"/>
            </bean>
        </property>
    </bean>
    <bean id="bedDemographicManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.impl.BedDemographicManagerImpl" lazy-init="default"
                  autowire="default" dependency-check="default">
                <property name="bedDemographicDAO" ref="bedDemographicDAO"/>
                <property name="providerDAO" ref="providerDao"/>
                <property name="bedDAO" ref="bedDAO"/>
                <property name="demographicDAO" ref="clientDao"/>
                <property name="roomDAO" ref="roomDAO"/>
                <property name="programDAO" ref="programDao"/>
            </bean>
        </property>
    </bean>
    <bean id="CaseManagementManager" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref bean="transactionManager"/>
        </property>
        <property name="target">
            <ref local="CaseManagementManagerTarget"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="CaseManagementManagerTarget" class="org.oscarehr.casemgmt.service.CaseManagementManager"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="caseManagementNoteDAO">
            <ref local="CaseManagementNoteDAO"/>
        </property>
        <property name="caseManagementIssueDAO">
            <ref local="CaseManagementIssueDAO"/>
        </property>
        <property name="caseManagementCPPDAO">
            <ref local="CaseManagementCPPDAO"/>
        </property>
        <property name="allergyDAO">
            <ref local="AllergyDAO"/>
        </property>
        <property name="prescriptionDAO">
            <ref local="PrescriptionDAO"/>
        </property>
        <property name="issueDAO">
            <ref local="IssueDAO"/>
        </property>
        <property name="encounterFormDAO">
            <ref local="EncounterFormDAO"/>
        </property>
        <property name="messagetblDAO">
            <ref local="MessagetblDAO"/>
        </property>
        <property name="echartDAO">
            <ref local="EchartDAO"/>
        </property>
        <property name="apptDAO">
            <ref local="ApptDAO"/>
        </property>
        <property name="providerSignitureDao">
            <ref local="ProviderSignitureDao"/>
        </property>
        <property name="providerDAO">
            <ref local="providerDao"/>
        </property>
        <property name="demographicDAO">
            <ref local="clientDao"/>
        </property>
        <property name="roleProgramAccessDAO">
            <ref local="RoleProgramAccessDAO"/>
        </property>
        <property name="clientImageDAO">
            <ref local="ClientImageDAO"/>
        </property>
        <property name="roleManager">
            <ref local="roleManager"/>
        </property>
        <property name="caseManagementTmpSaveDAO" ref="CaseManagementTmpSaveDAO"/>
        <property name="admissionManager">
            <ref local="admissionManager"/>
        </property>
        <property name="enabled" value="${casemgmt.note.password.enabled}"/>
    </bean>
    <bean id="roleManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.impl.RoleManagerImpl" lazy-init="default" autowire="default"
                  dependency-check="default">
                <property name="roleDAO" ref="roleDAO"/>
            </bean>
        </property>
    </bean>
    <bean id="ticklerManager" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref local="transactionManager"/>
        </property>
        <property name="target">
            <ref local="ticklerManagerTarget"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED,readOnly</prop>
            </props>
        </property>
    </bean>
    <bean id="ticklerManagerTarget" class="org.oscarehr.casemgmt.service.impl.TicklerManagerImpl" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="ticklerDAO">
            <ref local="ticklerDAO"/>
        </property>
    </bean>
    <bean id="ClientImageManager" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref local="transactionManager"/>
        </property>
        <property name="target">
            <ref local="ClientImageManagerTarget"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="ClientImageManagerTarget" class="org.oscarehr.casemgmt.service.impl.ClientImageManagerImpl"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="clientImageDAO">
            <ref local="ClientImageDAO"/>
        </property>
    </bean>
    <bean id="oscarSurveyManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.impl.SurveyManagerImpl" lazy-init="default" autowire="default"
                  dependency-check="default">
                <property name="surveyDAO" ref="oscarSurveyDAO"/>
            </bean>
        </property>
    </bean>
    <bean id="programManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.ProgramManager" lazy-init="default" autowire="default"
                  dependency-check="default">
                <property name="programDao" ref="programDao"/>
                <property name="programProviderDAO" ref="programProviderDAO"/>
                <property name="programFunctionalUserDAO" ref="programFunctionalUserDAO"/>
                <property name="programTeamDAO" ref="programTeamDAO"/>
                <property name="programAccessDAO" ref="programAccessDAO"/>
                <property name="admissionDAO" ref="admissionDao"/>
                <property name="integratorManager" ref="integratorManager"/>
                <property name="defaultRoleAccessDAO" ref="defaultRoleAccessDAO"/>
                <property name="programClientStatusDAO" ref="programClientStatusDAO"/>
                <property name="enabled" value="${pmm.refer.temporaryAdmission.enabled}"/>
                <property name="programSignatureDao" ref="programSignatureDao"/>
            </bean>
        </property>
    </bean>
    <bean id="clientManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.ClientManager" lazy-init="default" autowire="default"
                  dependency-check="default">
                <property name="clientDao" ref="clientDao"/>
                <property name="clientReferralDAO" ref="clientReferralDAO"/>
                <property name="programQueueManager" ref="programQueueManager"/>
                <property name="integratorManager" ref="integratorManager"/>
                <property name="admissionManager" ref="admissionManager"/>
                <property name="outsideOfDomainEnabled" value="${pmm.client.search.outside.of.domain.enabled}"/>
            </bean>
        </property>
    </bean>
    <bean id="integratorManager" class="org.oscarehr.PMmodule.service.impl.IntegratorManagerImpl" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="agencyDao" ref="agencyDao"/>
        <property name="clientManager" ref="clientManager"/>
    </bean>
    <bean id="infirmBedProgramManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.caisi.service.impl.InfirmBedProgramManagerImpl" autowire="byType" lazy-init="default"
                  dependency-check="default"/>
        </property>
    </bean>
    <!-- TicklerPlus -->
    <bean id="ticklerDAOT" class="org.caisi.dao.hibernate.TicklerDAOHibernate" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="ticklerManagerT" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref local="transactionManager"/>
        </property>
        <property name="target">
            <ref local="ticklerManagerTargetT"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="save*">PROPAGATION_REQUIRED</prop>
                <prop key="remove*">PROPAGATION_REQUIRED</prop>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="customFilterDAOT" class="org.caisi.dao.hibernate.CustomFilterDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="ticklerManagerTargetT" class="org.caisi.service.impl.TicklerManagerImpl" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="ticklerDAO">
            <ref local="ticklerDAOT"/>
        </property>
        <property name="customFilterDAO">
            <ref local="customFilterDAOT"/>
        </property>
    </bean>
    <bean id="demographicManagerT" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref local="transactionManager"/>
        </property>
        <property name="target">
            <ref local="demographicManagerTarget"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="save*">PROPAGATION_REQUIRED</prop>
                <prop key="remove*">PROPAGATION_REQUIRED</prop>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="demographicManagerTarget" class="org.caisi.service.impl.DemographicManagerImplTickler" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="demographicDAO">
            <ref local="demographicDAOT"/>
        </property>
    </bean>
    <bean id="preparedTicklerManagerT" class="org.caisi.tickler.prepared.PreparedTicklerManager" scope="singleton"
          lazy-init="default" autowire="default" dependency-check="default"/>
    <bean id="consultationManager" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref local="transactionManager"/>
        </property>
        <property name="target">
            <ref local="consultationManagerTarget"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="save*">PROPAGATION_REQUIRED</prop>
                <prop key="remove*">PROPAGATION_REQUIRED</prop>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="consultationDAOT" class="org.caisi.dao.hibernate.ConsultationDAOHibernate" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="chartDAOT" class="org.caisi.dao.hibernate.EChartDAOHibernate" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="sessionFactory">
            <ref local="sessionFactory"/>
        </property>
    </bean>
    <bean id="consultationManagerTarget" class="org.caisi.service.impl.ConsultationManagerImpl" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="consultationDAO">
            <ref local="consultationDAOT"/>
        </property>
    </bean>
    <bean id="chartManagerT" class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean"
          lazy-init="default" autowire="default" dependency-check="default">
        <property name="transactionManager">
            <ref local="transactionManager"/>
        </property>
        <property name="target">
            <ref local="chartManagerTarget"/>
        </property>
        <property name="transactionAttributes">
            <props>
                <prop key="save*">PROPAGATION_REQUIRED</prop>
                <prop key="remove*">PROPAGATION_REQUIRED</prop>
                <prop key="*">PROPAGATION_REQUIRED</prop>
            </props>
        </property>
    </bean>
    <bean id="chartManagerTarget" class="org.caisi.service.impl.EChartManagerImpl" lazy-init="default"
          autowire="default" dependency-check="default">
        <property name="chartDAO">
            <ref local="chartDAOT"/>
        </property>
    </bean>
    <bean id="providerManager" parent="baseTransactionProxy" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="target">
            <bean class="org.oscarehr.PMmodule.service.ProviderManager" lazy-init="default" autowire="default"
                  dependency-check="default">
                <property name="providerDao" ref="providerDao"/>
                <property name="agencyDAO" ref="agencyDao"/>
                <property name="programProviderDAO" ref="programProviderDAO"/>
                <property name="oscarSecurityDAO" ref="oscarSecurityDAO"/>
            </bean>
        </property>
    </bean>
    <bean id="version" class="org.caisi.service.impl.VersionImpl" lazy-init="default" autowire="default"
          dependency-check="default">
        <property name="version">
            <value>3.0.0</value>
        </property>
    </bean>
</beans>